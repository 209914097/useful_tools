# Bug修复记录
#### 1.关于短信轰炸现象的解释和解决办法：

- #### 解释：

> 假如login()函数A语句执行出错，会跑到except中执行，except中会停顿30秒后又执行login()，这次执行的login()如果发现车票，将发邮件，邮件发送成功，然后退出login()函数，准确地说是退出except。退出except后，程序并没有结束，而是会跑到刚才login()函数A语句执行出错的地方，因为except的退出，表明异常得到妥善解决，程序会从login()函数A语句执行的地方继续往下执行，而往下执行肯定会遇到发送邮件的sent()函数,因此，程序将再次发送邮件，这意味着出现1次异常，会发送2次邮件，出现2次异常，会发送3此邮件。这个bug的记录证据在文档2018.4.4可以找到。

- #### 解决办法：

> except中会停顿30秒后执行的login()，改为continue，意味着login()函数A语句执行出错，跳过该次剩下要执行的代码，重新执行while 里面的下一个循环，也就是一个全新的login()

- #### 想重现这个bug吗？

> 东大校园网不登录，是可以请求到火车票的json数据的，但是却不能登录到139邮箱发邮件。那么，你可以这样做，连上但不登录校园网，然后选择有余票的车次，运行程序。程序检测到车次有余票，会执行发邮件的语句，但是没登录校园网无法发送，这将会迫使程序跑到except执行，然后此时登录校园网，except中停顿30秒后执行login()，这次执行login()发现车票余票，将发邮件，邮件发送成功，将退出except，程序返回出错的地方继续执行发邮件操作，这时候你将会被短信轰炸。
